<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Compras - Inventário de Materiais de Construção</title>
    <link rel="stylesheet" href="stylesheet.css">                           
   
</head>
<body>
    <h1>Sistema de Compras - Inventário de Materiais de Construção</h1>

    <table id="inventoryTable">
        <thead>
            <tr>
                <th>Material</th>
                <th>Quantidade</th>
                <th>Unidade</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            <!-- Exemplo de dados do inventário (substitua com seus próprios dados) -->
            <tr>
                <td>Cimento</td>
                <td id="quantidadeCimento">1000</td>
                <td>Sacos</td>
                <td><button onclick="removeItem('Cimento')">Comprar</button></td>
            </tr>
            <tr>
                <td>Tijolos</td>
                <td id="quantidadeTijolos">5000</td>
                <td>Peças</td>
                <td><button onclick="removeItem('Tijolos')">Comprar</button></td>
            </tr>
            <tr>
                <td>Areia</td>
                <td id="quantidadeAreia">5000</td>
                <td>sacos</td>
                <td><button onclick="removeItem('Areia')">Comprar</button></td>
            </tr>
            <tr>
                <td>pedrisco</td>
                <td id="quantidadepedrisco">5000</td>
                <td>sacos</td>
                <td><button onclick="removeItem('pedriscos')">Comprar</button></td>
            </tr>
            <tr>
                <td>ferraria</td>
                <td id="quantidadeferraria">5000</td>
                <td>kg</td>
                <td><button onclick="removeItem('ferraria')">Comprar</button></td>
            </tr>
            <!-- Adicione mais linhas para cada material no seu inventário -->
        </tbody>
    </table>

    <h2>Adicionar Nova Compra</h2>
    <form onsubmit="addItem(event)">
        <label for="material">Material:</label>
        <input type="text" id="material" required>
        <label for="quantidade">Quantidade:</label>
        <input type="number" id="quantidade" required>
        <button type="submit">Comprar</button>
    </form>

    <h2>Compras Realizadas</h2>
    <table id="purchaseTable">
        <thead>
            <tr>
                <th>Material</th>
                <th>Quantidade</th>
            </tr>
        </thead>
        <tbody>
            <!-- Aqui serão exibidas as compras realizadas -->
        </tbody>
    </table>

    <script>
        function addItem(event) {
            event.preventDefault();
            const material = document.getElementById('material').value;
            const quantidade = parseInt(document.getElementById('quantidade').value);

            if (quantidade <= 0 || isNaN(quantidade)) {
                alert('A quantidade deve ser um número maior que zero.');
                return;
            }

            const quantidadeElement = document.getElementById('quantidade' + material.replace(/\s+/g, ''));
            let quantidadeAtual = parseInt(quantidadeElement.innerText);

            if (quantidade <= quantidadeAtual) {
                quantidadeAtual -= quantidade;
                quantidadeElement.innerText = quantidadeAtual;
                addPurchase(material, quantidade);
            } else {
                alert('Quantidade insuficiente em estoque.');
            }
        }

        function addPurchase(material, quantidade) {
            const purchaseTable = document.getElementById('purchaseTable').getElementsByTagName('tbody')[0];
            const newRow = purchaseTable.insertRow(purchaseTable.rows.length);

            const cell1 = newRow.insertCell(0);
            const cell2 = newRow.insertCell(1);

            cell1.innerHTML = material;
            cell2.innerHTML = quantidade;
        }

        function removeItem(material) {
            const quantidadeElement = document.getElementById('quantidade' + material.replace(/\s+/g, ''));
            let quantidadeAtual = parseInt(quantidadeElement.innerText);
            const quantidade = parseInt(prompt('Informe a quantidade a ser comprada:', '1'));

            if (!isNaN(quantidade) && quantidade > 0 && quantidade <= quantidadeAtual) {
                quantidadeAtual -= quantidade;
                quantidadeElement.innerText = quantidadeAtual;
                addPurchase(material, quantidade);
            } else {
                alert('Quantidade inválida ou excede a quantidade atual em estoque.');
            }
        }
    </script>
</body>
</html>
